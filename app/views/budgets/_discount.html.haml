.discount-area
  .form-group
    %label.col-sm-3.control-label Скидки
    %button.btn.btn-default{ title: 'Показать скидки', type: 'button', data: { toggle: 'collapse', target: "#discount" } } Показать
  %br
  .collapse#discount
    .well
      .form-group
        %label.col-sm-3.control-label Название скидки
        .col-sm-9
          - if show
            %h5= f.object.discount_title
          - else
            = f.input :discount_title, label: false, placeholder: 'Введите название скидки', input_html: { 'ng-model' => 'discount.name' }
      .form-group
        %label.col-sm-3.control-label Первый этап
        .col-sm-2
          - if show
            %h5= f.object.discount_by_stages[0]
          - else
            = f.input :discount_by_stages, label: false, class: 'form-control', input_html: { name: "#{model}[discount_by_stages][0]", value: f.object.discount_by_stages[0], 'ng-model' => 'discount.values[0]', 'ng-change' => 'ctrl.recalcStage(1)' }
        .col-sm-1
          %h5 %
      .form-group
        %label.col-sm-3.control-label Второй этап
        .col-sm-2
          - if show
            %h5= f.object.discount_by_stages[1]
          - else
            = f.input :discount_by_stages, label: false, class: 'form-control', input_html: { name: "#{model}[discount_by_stages][1]", value: f.object.discount_by_stages[1], 'ng-model' => 'discount.values[1]', 'ng-change' => 'ctrl.recalcStage(2)' }
        .col-sm-1
          %h5 %
      .form-group
        %label.col-sm-3.control-label Третий этап
        .col-sm-2
          - if show
            %h5= f.object.discount_by_stages[2]
          - else
            = f.input :discount_by_stages, label: false, class: 'form-control', input_html: { name: "#{model}[discount_by_stages][2]", value: f.object.discount_by_stages[2], 'ng-model' => 'discount.values[2]', 'ng-change' => 'ctrl.recalcStage(3)' }
        .col-sm-1
          %h5 %
